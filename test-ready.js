const http = require('http');

console.log('\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
console.log('âœ… BACKEND: http://localhost:5000');
console.log('âœ… FRONTEND: http://localhost:5173');
console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n');

// Test health endpoint
const options = {
  hostname: 'localhost',
  port: 5000,
  path: '/api/health',
  method: 'GET'
};

const req = http.request(options, (res) => {
  let data = '';
  res.on('data', chunk => data += chunk);
  res.on('end', () => {
    try {
      const json = JSON.parse(data);
      console.log('âœ“ API Health Check: PASSED');
      console.log('  Response:', json);
      console.log('\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
      console.log('âš¡ READY TO TEST');
      console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n');
      console.log('ðŸ” Login Flow:');
      console.log('   1. Go to http://localhost:5173/login');
      console.log('   2. Register as a PROVIDER');
      console.log('   3. Navigate to "Add Service" page');
      console.log('   4. Fill the form and submit');
      console.log('\nâœ… Fixed Issues:');
      console.log('   â€¢ priceType values now: hourly, fixed, daily');
      console.log('   â€¢ Added provider validation');
      console.log('   â€¢ Better error messages');
      console.log('\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n');
    } catch(e) {
      console.log('âœ— API Health Check: FAILED');
    }
  });
});

req.on('error', () => {
  console.log('âœ— Cannot connect to backend');
});

req.end();
